/*---------- Urlbar ----------*/
#urlbar-container,
#search-container {
  /* —— New: center & cap the pill —— */
  display: block !important;
  margin-inline: auto !important;
  max-width: 528px !important; /* Increased by 10% from 480px */
  width: 160% !important; /* Increased by 10% from 1509% */
  /* —— End new —— */

  padding: 0 !important;
}

#searchbar,
#urlbar-background {
  background-color: var(--neptune-urlbar-background) !important;
  border: none !important;
  border-radius: var(--border-radius-circle) !important;
  box-shadow: none !important;
  transition: background-color 200ms ease;
}

#urlbar {
  /* —— New: stretch the input to the pill —— */
  width: 220% !important; /* Increased by 10% from 200% */
  max-width: 528px !important; /* Increased by 10% from 480px */
  /* —— End new —— */
  
  /* —— Center the urlbar —— */
  margin: 0 auto !important;
  /* —— End center —— */
  
  height: var(--urlbar-height) !important;
  font-size: 12.5px !important;
  transition: opacity var(--inactive-window-transition);

  &:-moz-window-inactive {
    opacity: var(--inactive-titlebar-opacity);
  }

  > #urlbar-background {
    animation: none !important;
    transition: background-color 0.2s ease;

    #urlbar:hover > & {
      background-color: var(--neptune-urlbar-hover-background) !important;
    }

    #urlbar:is([focused], [open]) > & {
      background-color: var(--neptune-urlbar-focused-background) !important;
    }
  }

  > .urlbar-input-container {
    padding: 0 !important;
    border: none !important;
    border-radius: var(--border-radius-circle) !important;

    #urlbar:not([focused], [textoverflow]) > & > .urlbar-input-box > .urlbar-input {
      text-align: center !important;
    }

    > #urlbar-search-mode-indicator {
      margin-inline: 0 !important;
      padding-inline: var(--urlbar-icon-padding) !important;
      font-size: var(--urlbarView-small-font-size);
    }

    > #urlbar-searchmode-switcher {
      margin-inline: 0 !important;

      &[open] {
        background-color: var(--neptune-item-active-background) !important;
      }

      > #searchmode-switcher-dropmarker {
        margin-inline-start: var(--urlbar-icon-padding) !important;
        display: none;
      }
    }

    > #searchmode-switcher-chicklet {
      margin-inline: 0 !important;
      font-size: var(--urlbarView-small-font-size);

      > #searchmode-switcher-close {
        margin-inline: var(--urlbar-icon-padding) !important;
      }
    }

    > #urlbar-label-box,
    > #identity-box:is([pageproxystate="valid"], [pageproxystate="invalid"]) > .identity-box-button {
      padding-inline: var(--urlbar-icon-padding) !important;
    }

    > #page-action-buttons > #urlbar-zoom-button {
      margin-inline: 0 !important;
      padding-block: var(--urlbar-container-padding) !important;
      border-radius: var(--border-radius-large) !important;
    }

    > .urlbar-go-button {
      display: none;
    }
  }
}

.urlbarView {
  /* —— New: center & cap the dropdown —— */
  margin-inline: auto !important;
  max-width: 480px !important;
  width: 100% !important;
  /* —— End new —— */

  color-scheme: light dark;
  width: calc(100% + var(--space-xlarge)) !important;
  margin-inline: calc(-1 * var(--space-medium)) !important;
  margin-block-start: var(--space-small);
  border-inline: none !important;
  border-radius: var(--border-radius-xlarge);
  background-color: var(--neptune-secondary-background);
  backdrop-filter: saturate(1.5) blur(3em);
  color: MenuText;
  box-shadow: var(--neptune-small-shadow), var(--neptune-menu-shadow) !important;

  > .urlbarView-body-outer > .urlbarView-body-inner {
    width: inherit !important;
    margin-inline: 0 !important;
    border: none !important;
  }

  > .search-one-offs:not([hidden]) {
    width: calc(100% - 2 * (var(--urlbarView-item-block-padding) + var(--urlbarView-favicon-margin-start) + var(--border-width))) !important;
    margin-inline: auto;
    /* 
      The width is set to 100% minus twice the sum of item block padding, favicon margin start, and border width,
      to ensure proper horizontal spacing and alignment within the container.
    */
    width: calc(100% - 2 * (var(--urlbarView-item-block-padding) + var(--urlbarView-favicon-margin-start) + var(--border-width))) !important;
  }
}

/*---- urlbarView-results and everything else remains exactly as in your original code ----*/
